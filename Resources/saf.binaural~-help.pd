#N canvas 965 30 938 1001 10;
#X declare -path saf;
#X obj 12 5 declare -path saf;
#X obj 132 6 nbx 5 16 -1e+37 1e+37 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 132 29 expr floor(sqrt($f1) - 1);
#X obj 132 51 nbx 5 16 -1e+37 1e+37 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X text 192 51 ambi order;
#X text 192 4 number of channels;
#X text 151 304 saf.encoder~ <order> <sources>;
#X obj 58 272 r enc;
#N canvas 963 550 951 489 POSITIONS 0;
#X msg 3 191 source 1 \$1 \$2;
#X text 335 190 source <source_index> <azi> <ele>;
#X obj 3 170 list;
#X obj 3 125 nbx 5 16 -180 180 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 24 147 nbx 5 16 -90 90 0 1 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 64 256;
#N canvas 1442 550 472 489 (subpatch) 0;
#X obj 11 51 tgl 28 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 11 128 int;
#X obj 11 150 + 1;
#X obj 11 172 % 360;
#X obj 11 194 - 180;
#X obj 11 216 outlet;
#X obj 11 24 inlet;
#X obj 11 84 metro 41;
#X obj 66 84 expr random(0 \, 1000);
#X connect 0 0 7 0;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 0 0;
#X connect 7 0 1 0;
#X connect 8 0 1 1;
#X coords 0 -1 1 1 30 30 1 10 50;
#X restore 3 89 pd;
#X obj 3 253 s enc;
#X obj 111 169 list;
#X obj 111 124 nbx 5 16 -180 180 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 132 146 nbx 5 16 -90 90 0 1 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 111 252 s enc;
#X msg 111 190 source 2 \$1 \$2;
#X obj 3 59 loadbang;
#N canvas 1442 550 472 489 (subpatch) 0;
#X obj 11 51 tgl 28 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 11 106 int;
#X obj 11 173 % 360;
#X obj 11 216 outlet;
#X obj 11 24 inlet;
#X obj 11 195 - 180;
#X obj 11 84 metro 53;
#X obj 11 153 - 45;
#X obj 66 84 expr random(0 \, 1000);
#X obj 11 128 - 1;
#X connect 0 0 6 0;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 2 0 5 0;
#X connect 4 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 7 0 2 0;
#X connect 8 0 1 1;
#X connect 9 0 1 1;
#X connect 9 0 7 0;
#X coords 0 -1 1 1 30 30 1 10 50;
#X restore 111 90 pd;
#X obj 111 60 loadbang;
#X obj 239 168 list;
#X obj 239 123 nbx 5 16 -180 180 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 260 145 nbx 5 16 -90 90 0 1 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#N canvas 963 725 951 314 (subpatch) 0;
#X obj 11 51 tgl 28 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 11 106 int;
#X obj 11 128 + 1;
#X obj 11 173 % 360;
#X obj 11 216 outlet;
#X obj 11 24 inlet;
#X obj 11 195 - 180;
#X obj 11 84 metro 73;
#X obj 11 153 + 75;
#X obj 66 84 expr random(0 \, 1000);
#X connect 0 0 7 0;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 2 0 8 0;
#X connect 3 0 6 0;
#X connect 5 0 0 0;
#X connect 6 0 4 0;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X connect 9 0 1 1;
#X coords 0 -1 1 1 30 30 1 10 50;
#X restore 239 89 pd;
#X obj 239 59 loadbang;
#X msg 239 189 source 3 \$1 \$2;
#X obj 239 212 s enc;
#X connect 0 0 6 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 3 0;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 7 1;
#X connect 11 0 10 0;
#X connect 12 0 5 0;
#X connect 13 0 8 0;
#X connect 14 0 13 0;
#X connect 15 0 20 0;
#X connect 16 0 15 0;
#X connect 17 0 15 1;
#X connect 18 0 16 0;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X restore 132 72 pd POSITIONS;
#N canvas 963 550 951 489 CONFIG 0;
#X obj 3 179 s dec;
#X msg 3 7 set sofafile Subject10HRIRs.sofa;
#X msg 32 153 set usedefaulthrirs \$1;
#X obj 32 130 tgl 18 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 25 63 tgl 18 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 25 86 set orderallbands \$1;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X restore 308 92 pd CONFIG;
#X obj 17 102 tabplay~ maracatu;
#X obj 116 124 bng 18 250 50 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000;
#X obj 17 79 bng 18 250 50 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000;
#X obj 12 25 maracatu;
#N canvas 963 550 951 489 POSITION 0;
#X obj 3 179 s dec;
#X msg 3 29 set loudspeakerpos 1 0 0;
#X msg 23 57 set loudspeakerpos 2 90 0;
#X msg 41 81 set loudspeakerpos 3 180 0;
#X msg 61 109 set loudspeakerpos 4 -90 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X restore 308 126 pd POSITION;
#X obj 112 197 osc~ 200;
#N canvas 963 550 951 489 line 0;
#X obj 37 37 inlet~;
#X obj 37 109 *~;
#X obj 37 209 outlet~;
#X obj 99 81 line~;
#X obj 169 139 snapshot~;
#X obj 169 161 nbx 5 16 -1e+37 1e+37 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 170 214 sel 1 0, f 28;
#X obj 37 131 *~ 0.1;
#X obj 353 226 tgl 18 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 353 249 sel 1 0, f 27;
#X obj 353 309 mtof;
#X obj 432 311 mtof;
#X obj 433 183 loadbang;
#X msg 433 205 0;
#X obj 353 355 s r-fund;
#X obj 432 357 s r-fund;
#X obj 360 184 nbx 5 16 -1e+37 1e+37 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 353 203 sel 0, f 9;
#X obj 280 24 r play;
#X obj 249 97 metro 50;
#X obj 257 49 loadbang;
#X obj 257 72 tgl 18 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 189 268 bng 18 250 50 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000;
#X msg 116 46 0 \, 1 88;
#X msg 170 309 1 \, 0 88;
#X obj 169 182 change;
#X obj 355 114 int;
#X obj 355 137 + 1;
#X obj 170 240 delay 705 1 msec;
#X obj 432 274 45;
#X obj 353 272 50;
#X obj 353 164 % 6;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 3 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 25 0;
#X connect 6 0 28 0;
#X connect 7 0 2 0;
#X connect 8 0 9 0;
#X connect 9 0 30 0;
#X connect 9 1 29 0;
#X connect 10 0 14 0;
#X connect 11 0 15 0;
#X connect 12 0 13 0;
#X connect 13 0 9 0;
#X connect 17 0 8 0;
#X connect 18 0 23 0;
#X connect 18 0 26 0;
#X connect 19 0 4 0;
#X connect 20 0 21 0;
#X connect 21 0 19 0;
#X connect 23 0 3 0;
#X connect 24 0 3 0;
#X connect 25 0 6 0;
#X connect 26 0 27 0;
#X connect 27 0 26 1;
#X connect 27 0 31 0;
#X connect 28 0 24 0;
#X connect 28 0 22 0;
#X connect 29 0 11 0;
#X connect 30 0 10 0;
#X connect 31 0 16 0;
#X connect 31 0 17 0;
#X restore 112 216 pd line;
#X obj 17 52 loadbang;
#X obj 113 178 nbx 5 16 -1e+37 1e+37 0 0 empty r-fund empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 116 147 s play;
#N canvas 963 550 951 489 line 0;
#X obj 595 432 outlet~;
#X obj 99 81 line~;
#X obj 169 139 snapshot~;
#X obj 169 161 nbx 5 16 -1e+37 1e+37 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 170 214 sel 1 0, f 53;
#X obj 99 35 r play;
#X obj 257 49 loadbang;
#X obj 257 72 tgl 18 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 189 268 bng 18 250 50 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000;
#X msg 99 57 0 \, 1 88;
#X msg 170 309 1 \, 0 88;
#X obj 169 182 change;
#X obj 170 240 delay 705 1 msec;
#X obj 595 295 noise~;
#X obj 327 239 bng 18 250 50 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000;
#X obj 327 284 bng 18 250 50 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000;
#X obj 327 329 line~;
#X obj 595 322 *~;
#X obj 327 351 snapshot~;
#X obj 327 373 nbx 5 16 -1e+37 1e+37 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 327 394 change;
#X obj 261 325 metro 50;
#X obj 269 277 loadbang;
#X obj 269 300 tgl 18 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 327 416 sel 1;
#X msg 327 307 0 \, 1 33;
#X msg 361 442 1 \, 0 33;
#X obj 449 353 line~;
#X obj 449 375 snapshot~;
#X obj 449 397 nbx 5 16 -1e+37 1e+37 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 449 418 change;
#X obj 449 440 sel 1;
#X msg 483 466 1 \, 0 33;
#X msg 399 321 0 \, 1 33;
#X obj 569 134 expr random(1 \, 2);
#X obj 548 93 bng 18 250 50 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000;
#X obj 569 156 nbx 5 16 -1e+37 1e+37 0 0 empty empty empty 0 -9 0 10 #fcfcfc #000000 #000000 0 256;
#X obj 451 247 expr if(random(1 \, 3) == 1 \, 176 \, 353);
#X obj 473 269 expr if(random(1 \, 3) == 1 \, 176 \, 353);
#X obj 327 262 del 176 1 msec;
#X obj 381 290 del 176 1 msec;
#X obj 249 97 metro 31;
#X obj 595 366 bp~ 500 10;
#X obj 595 344 *~ 1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 11 0;
#X connect 4 0 12 0;
#X connect 4 1 14 0;
#X connect 4 1 37 0;
#X connect 4 1 38 0;
#X connect 5 0 9 0;
#X connect 6 0 7 0;
#X connect 7 0 41 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 4 0;
#X connect 12 0 10 0;
#X connect 12 0 8 0;
#X connect 13 0 17 0;
#X connect 14 0 39 0;
#X connect 15 0 25 0;
#X connect 16 0 18 0;
#X connect 16 0 17 1;
#X connect 17 0 43 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 24 0;
#X connect 21 0 18 0;
#X connect 21 0 28 0;
#X connect 22 0 23 0;
#X connect 23 0 21 0;
#X connect 24 0 26 0;
#X connect 25 0 16 0;
#X connect 26 0 16 0;
#X connect 27 0 28 0;
#X connect 27 0 17 1;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 27 0;
#X connect 33 0 27 0;
#X connect 34 0 36 0;
#X connect 35 0 34 0;
#X connect 37 0 40 1;
#X connect 38 0 39 1;
#X connect 39 0 15 0;
#X connect 39 0 40 0;
#X connect 40 0 33 0;
#X connect 41 0 2 0;
#X connect 42 0 0 0;
#X connect 43 0 42 0;
#X restore 206 179 pd line;
#X obj 40 332 r bin;
#X text 162 356 saf.binaural~ <order> <number_of_output_speakers>;
#X obj 18 305 saf.encoder~ 1 3 -m, f 21;
#X obj 17 242 snake~ in 3, f 32;
#X obj 18 357 saf.binaural~ 1 2 -m, f 21;
#X obj 18 381 dac~ 1, f 8;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 7 0 23 0;
#X connect 10 0 24 0;
#X connect 10 1 11 0;
#X connect 11 0 10 0;
#X connect 11 0 19 0;
#X connect 12 0 10 0;
#X connect 15 0 16 0;
#X connect 16 0 24 1;
#X connect 17 0 12 0;
#X connect 18 0 15 0;
#X connect 20 0 24 2;
#X connect 21 0 25 0;
#X connect 23 0 25 0;
#X connect 24 0 23 0;
#X connect 25 0 26 0;
